import{g as d,u as C,p as P}from"./getCartProducts-BeMDfBsG.js";const q=(o,e)=>{let r=d().find(n=>n.id===o),u=1;return r&&(u=r.quantity,e=r.price),{quantity:u,price:e}},y=()=>{let o=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),u=d().reduce((n,l)=>{let t=parseInt(l.price)||0;return n+t},0);o.textContent=`₹${u}`,e.textContent=`₹${u+50}`},f=(o,e,c,r)=>{const u=document.querySelector(`#card${e}`),n=u.querySelector(".productQuantity"),l=u.querySelector(".productPrice");let t=1,a=0,i=d(),m=i.find(s=>s.id===e);m?(t=m.quantity,a=m.price):(a=r,r=r),o.target.className==="cartIncrement"&&(t<c?t+=1:t===t&&(t=c,a=r*c)),o.target.className==="cartDecrement"&&t>1&&(t-=1),a=r*t,a=Number(a.toFixed(2));let p={id:e,quantity:t,price:a};p=i.map(s=>s.id===e?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),n.textContent=t,l.textContent=`${a}`,y()},g=o=>{let e=d();e=e.filter(r=>r.id!==o),localStorage.setItem("cartProductLS",JSON.stringify(e));let c=document.getElementById(`card${o}`);c&&(c.remove(),alert("Your Product is Removed From Cart...")),C(e),y()};let x=d(),S=P.filter(o=>x.some(e=>e.id===o.id));console.log(S);const v=document.querySelector("#productCartContainer"),E=document.querySelector("#productCartTemplate"),F=()=>{S.forEach(o=>{const{category:e,id:c,image:r,name:u,stock:n,price:l}=o;let t=document.importNode(E.content,!0);const a=q(c,l);t.querySelector("#cardValue").setAttribute("id",`card${c}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=u,t.querySelector(".productImage").src=r,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=`${a.price}`,t.querySelector(".stockElement").addEventListener("click",i=>{f(i,c,n,l)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>g(c)),v.appendChild(t)})};F();y();
